cmake_minimum_required(VERSION 3.16)
project(WCtestbeamSim)

# Trova Geant4 nell'ambiente Conda
find_package(Geant4 REQUIRED ui_all vis_all)

# Include le macro di Geant4
include(${Geant4_USE_FILE})

# Elenca i file sorgente 
file(GLOB sources ${PROJECT_SOURCE_DIR}/*.cc)
file(GLOB headers ${PROJECT_SOURCE_DIR}/*.hh)

# Crea l'eseguibile
add_executable(WCtestbeamSim sim.cc ${sources} ${headers})
target_link_libraries(WCtestbeamSim ${Geant4_LIBRARIES})

# Copia i file macro (.mac) nella cartella di build
set(SIM_SCRIPTS vis.mac init_vis.mac)
foreach(_script ${SIM_SCRIPTS})
  configure_file(${_script} ${_script} COPYONLY)
endforeach()
